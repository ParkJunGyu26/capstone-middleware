generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  userIdx      String   @id @default(auto()) @map("_id") @db.ObjectId
  userName     String?
  connect      Connect[]
  total        Total?
}

model Connect {
  connectIdx   String   @id @default(auto()) @map("_id") @db.ObjectId
  startTime    DateTime?
  endTime      DateTime?
  score        Int?
  missionIdx   String   @db.ObjectId
  userIdx      String   @db.ObjectId
  mission      Mission  @relation(fields: [missionIdx], references: [missionIdx])
  user         User     @relation(fields: [userIdx], references: [userIdx])
}

model Mission {
  missionIdx   String   @id @default(auto()) @map("_id") @db.ObjectId
  missionType  Int?
  connect      Connect[]
}

model Total {
  totalIdx     String   @id @default(auto()) @map("_id") @db.ObjectId
  totalTime    Int?
  totalScore   Int?
  userIdx      String   @unique @db.ObjectId
  user         User     @relation(fields: [userIdx], references: [userIdx])
}
